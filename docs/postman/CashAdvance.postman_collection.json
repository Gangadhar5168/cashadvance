{
  "info": {
    "_postman_id": "cashadvance-collection",
    "name": "CashAdvance API",
    "description": "Sample Postman collection for CashAdvance API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "baseUrl", "value": "http://localhost:8080" },
    { "key": "adminUser", "value": "admin" },
    { "key": "adminPass", "value": "admin123" }
  ],
  "item": [
    {
      "name": "List Users",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Authorization", "value": "Basic {{adminUser}}:{{adminPass}}" }
        ],
        "url": "{{baseUrl}}/api/admin/users"
      }
    },
    {
      "name": "Create User",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" },
          { "key": "Authorization", "value": "Basic {{adminUser}}:{{adminPass}}" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"username\":\"jane\",\"password\":\"plain\",\"salary\":50000,\"allowance\":2000,\"roles\":[\"EMPLOYEE\"]}"
        },
        "url": "{{baseUrl}}/api/admin/users"
      }
    },
    {
      "name": "Set Monthly Limit",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Basic {{adminUser}}:{{adminPass}}" }
        ],
        "url": {
          "raw": "{{baseUrl}}/api/admin/users/1/monthly-limit?limit=3000",
          "host": ["{{baseUrl}}"],
          "path": ["api","admin","users","1","monthly-limit"],
          "query": [{"key":"limit","value":"3000"}]
        }
      }
    },
    {
      "name": "Give Advance (supervisor)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\"userId\":1,\"amount\":2000}"
        },
        "url": "{{baseUrl}}/api/advances?supervisorId=2"
      }
    },
    {
      "name": "Cancel Transaction (admin)",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Basic {{adminUser}}:{{adminPass}}" }
        ],
        "url": "{{baseUrl}}/api/admin/transactions/100/cancel"
      }
    },
    {
      "name": "Override Transaction (admin)",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Authorization", "value": "Basic {{adminUser}}:{{adminPass}}" }
        ],
        "url": "{{baseUrl}}/api/admin/transactions/100/override"
      }
    }
  ]
}
